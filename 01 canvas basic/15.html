<!doctype html>
<html>
    <head>
        <title>Canvas</title>
    </head>
    <body>
        <canvas id="myCanvas" width="500" height="200" style="border:1px solid red"></canvas> 
        <script>
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d");
            
            canvas.addEventListener("click",clicked);

            function clicked(e){
                var x = e.clientX - canvas.offsetLeft;
                var y = e.clientY - canvas.offsetTop;
                var y2 = 200 - y;
                ctx.lineWidth = 1.3;
                console.log(x,y2);
                ctx.clearRect(280,0,500,60);

                ctx.moveTo(0,200);
                ctx.lineTo(x,y);
                ctx.stroke();

                var degree = Math.atan(y2/x) * 180 / Math.PI;

                ctx.font = "30px sans-serif";
                ctx.fillText(degree + '"',300,40);
            }

            ctx.arc(0,200,5,0,2 * Math.PI,false);
            ctx.fill();
           
            


            
           
        </script>
    </body>
</html>